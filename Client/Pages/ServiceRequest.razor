@page "/serviceRequest"
@using System.ComponentModel.DataAnnotations

<PageTitle>Felanmälan</PageTitle>

<div style="max-width: 600px; margin: auto; padding: 20px; background-color: #f9f9f9; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
    <h1 style="text-align: center; color: #333;">Felanmälan</h1>

    <p style="font-size: 1.1em; color: #555; text-align: center;">
        Har du upptäckt något som behöver åtgärdas? Fyll i formuläret nedan och skicka in din felanmälan så återkommer vi så snart som möjligt.
    </p>

    <EditForm Model="felanmalanModel" OnValidSubmit="SubmitFelanmälan">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="form-group">
            <label for="description">Beskrivning</label>
            <InputTextArea id="description" class="form-control" @bind-Value="felanmalanModel.Description" placeholder="Beskriv problemet..." />
        </div>

        <div class="form-group">
            <label for="name">Ditt namn</label>
            <InputText id="name" class="form-control" @bind-Value="felanmalanModel.Name" placeholder="Ditt namn..." />
        </div>

        <div class="form-group">
            <label for="email">Din e-post</label>
            <InputText id="email" class="form-control" @bind-Value="felanmalanModel.Email" placeholder="Din e-post..." />
        </div>

        <div class="form-group" style="margin-bottom: 20px;">
            <label for="phone">Telefonnummer</label>
            <InputText id="phone" class="form-control" @bind-Value="felanmalanModel.Phone" placeholder="Ditt telefonnummer..." />
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">Skicka felanmälan</button>
    </EditForm>

    @if (isSubmitted)
    {
        <div class="alert alert-success" style="margin-top: 20px;">
            Tack för din felanmälan! Vi kommer att kontakta dig inom kort.
        </div>
    }
</div>

@code {
    private FelanmalanModel felanmalanModel = new FelanmalanModel();
    private bool isSubmitted = false;

    private void SubmitFelanmälan()
    {
        // Här kan du lägga till kod för att hantera inlämning, t.ex. skicka till en server eller API
        isSubmitted = true;
    }

    public class FelanmalanModel
    {
        [Required]
        [StringLength(500, ErrorMessage = "Beskrivningen får inte vara längre än 500 tecken.")]
        public string Description { get; set; }

        [Required]
        public string Name { get; set; }

        [Required]
        [EmailAddress(ErrorMessage = "Ange en giltig e-postadress.")]
        public string Email { get; set; }

        [Phone(ErrorMessage = "Ange ett giltigt telefonnummer.")]
        public string Phone { get; set; }
    }
}
